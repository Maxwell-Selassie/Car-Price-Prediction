

# data paths
file_paths:
  train_data: 'data/processed/train_processed_v1.csv'
  dev_data: 'data/processed/dev_processed_v1.csv'


  target_column: 'selling_price_log'

# logging configurations
logging:
  log_dir: 'logs/'
  log_level: 'INFO'
  max_bytes: 10485760
  backup_count: 7
  format: '%(asctime)s -%(name) %(levelname)s -%(funcName)s:%(lineno)d - %(message)s'
  date_format: '%Y-%m-%d %H:%M:%S'

# model configuration
# baseline models
models: 
  baseline:
    enabled: True
    name: 'Ridge'
    params: 
      max_iter: 2000

  tree_based:
    RandomForest:
      enabled: True
      params: 
        n_estimators: 200
        max_depth: 8

    XGBoost:
      enabled: True
      params:
        n_estimators: 120
        learning_rate: 0.05

    LightGBM:
      enabled:
      params:
        n_estimators: 120
        learning_rate: 0.1


# cross validation
cross_validation:
  enabled: True
  scoring: 'neg_mean_squared_error'

# hyperparameter tuning
hyperparameter_tuning:
  enabled: True
  method: 'optuna'
  n_trials: 200
  cv: 10

  optuna: 
    direction: 'minimize'
    sampler: 'TPESampler'

  # Hyperparameter search spaces
  search_spaces:
    LogisticRegression:
      C: ['log_uniform', 0.001, 100]
      penalty: ['categorical', ['l1', 'l2']]
      solver: ['categorical', ['liblinear', 'saga']]
    
    RandomForest:
      n_estimators: trial.suggest_int('n_estimators', 50, 300),
      max_depth: trial.suggest_int('max_depth', 5, 30),
      min_samples_split: trial.suggest_int('min_samples_split', 2, 10),
      min_samples_leaf: trial.suggest_int('min_samples_leaf', 1, 5),
      bootstrap: trial.suggest_categorical('bootstrap', [True, False])
    
    XGBoost:
      n_estimators: ['int', 50, 500]
      max_depth: ['int', 3, 15]
      learning_rate: ['log_uniform', 0.001, 0.3]
      subsample: ['uniform', 0.6, 1.0]
      colsample_bytree: ['uniform', 0.6, 1.0]
      gamma: ['uniform', 0, 5]
      min_child_weight: ['int', 1, 10]
    
    LightGBM:
      n_estimators: ['int', 50, 500]
      max_depth: ['int', 3, 15]
      learning_rate: ['log_uniform', 0.001, 0.3]
      num_leaves: ['int', 20, 150]
      min_child_samples: ['int', 5, 100]
      subsample: ['uniform', 0.6, 1.0]
      colsample_bytree: ['uniform', 0.6, 1.0]

metrics:
  primary_metric: 'mean_squared_error'

  regression_metrics:
    - 'R2_score'
    - 'root_mean_squared_error'
    - 'mean_absolute_error'


# model_persistence
model_persistence:
  save_best_model: True
  best_model_path: 'models/best_model.joblib'

  # save artifacts
  save_artifacts:
    metrics_summary: True
    training_history: True

    artifacts_path: 'artifacts/training/'
